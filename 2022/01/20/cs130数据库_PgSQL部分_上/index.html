<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>cs130数据库:PgSql模块(上) | RetenQ的博客</title><meta name="keywords" content="MIEC生存手册,cs130数据库,PgSql"><meta name="author" content="RetenQ"><meta name="copyright" content="RetenQ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="来自梅努斯国际工程学院的CS130课程，该部分为操作PgSql的方法合集">
<meta property="og:type" content="article">
<meta property="og:title" content="cs130数据库:PgSql模块(上)">
<meta property="og:url" content="http://example.com/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_PgSQL%E9%83%A8%E5%88%86_%E4%B8%8A/index.html">
<meta property="og:site_name" content="RetenQ的博客">
<meta property="og:description" content="来自梅努斯国际工程学院的CS130课程，该部分为操作PgSql的方法合集">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png">
<meta property="article:published_time" content="2022-01-19T16:00:00.000Z">
<meta property="article:modified_time" content="2022-01-30T09:00:22.545Z">
<meta property="article:author" content="RetenQ">
<meta property="article:tag" content="MIEC生存手册">
<meta property="article:tag" content="cs130数据库">
<meta property="article:tag" content="PgSql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png"><link rel="shortcut icon" href="https://s2.loli.net/2022/01/12/FP23fqhJaZjYNLw.jpg"><link rel="canonical" href="http://example.com/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_PgSQL%E9%83%A8%E5%88%86_%E4%B8%8A/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'cs130数据库:PgSql模块(上)',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-30 17:00:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s3.bmp.ovh/imgs/2022/01/8810259d94a68ce8.jpg" onerror="onerror=null;src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">RetenQ的博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">cs130数据库:PgSql模块(上)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-19T16:00:00.000Z" title="发表于 2022-01-20 00:00:00">2022-01-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-30T09:00:22.545Z" title="更新于 2022-01-30 17:00:22">2022-01-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/MIEC%E7%94%9F%E5%AD%98%E6%89%8B%E5%86%8C/">MIEC生存手册</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>13分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="cs130数据库:PgSql模块(上)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="pgSQL-1"><a href="#pgSQL-1" class="headerlink" title="pgSQL 1"></a>pgSQL 1</h1><h2 id="概念级"><a href="#概念级" class="headerlink" title="概念级"></a>概念级</h2><h3 id="数据库基础概述"><a href="#数据库基础概述" class="headerlink" title="数据库基础概述"></a>数据库基础概述</h3><p>数据库表实质上就是一系列二维数组的集合：横向的行(记录)和纵向的列(字段、属性)<br>DDL语言：数据库定义语言，主要包括DROP,CREATE,ALTER等语句操作<br>DML语言：数据库操作语言，INSERT,UPDATE,DELETE等语句操作<br>DQL语言：数据库查询语言，SWLECT语句<br>DCL语言：数据库控制语言，GRANT,REVOKE,COMMIT,ROLLBACK等语句操作</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h4><p>整数类型<br>SMALLINT 范围是-32768到32767<br>INT(INTEGER) 普通大小的整数，范围是-2147483648到2147483647  </p>
<p>任意精度浮点数类型：<br>REAL 6位十进制数字精度<br>NUMERIC(m,n) 任意精度类型 m代表一个字段所能存储的数值最大长度，n代表精度</p>
<blockquote>
<p>NUMERIC(5,2) 存储5位，其中可以保留两位小数。另外，小数点不占有一位。比如123.88可以，但1234.88不行<br>但是如果插入部分多的在小数部分，那么会四舍五入而不会报错，比如 123.888-&gt;123.89 </p>
</blockquote>
<p>日期与时间类型<br>TIME:只用于一日内的时间，8字节，比如10:05:01<br>DATE:只用于日期，4字节，比如1987-04-04<br>TIMESTAMP:日期和时间，8字节，1987-04-04 10:05:01    </p>
<p>字符串类型<br>CHAR(n)/CHARACTER(n)    固定长度字符串，不足补空白。另外在检索数据的速度上，它比VARCHAR要高<br>VARCHAR(n)/CHARACTER VARYING(n) 变长字符串，有长度限制(和CHAR相比就是，它并不会用空白去补齐)<br>TEXT 变长字符串，无长度限制 </p>
<h3 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h3><p>我们可以使用SQL：<br>1.在数据库中创建和删除表<br>2.检索和更新表中的数据  </p>
<p>这些操作分别被称为<strong>数据定义语言</strong> Data Definition Language (DDL) statements<br>以及<strong>数据操作语言</strong> Data Manipulation Language(DML) statements     </p>
<h3 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h3><p>DDL允许用户定义新表和相关的元素<br>大多数商业SQL数据库在其DDL的专有扩展，允许控制数据库系统的非标准功能<br>对DDL说，有四种最基本的语句：<br>CREATE:在数据库中创建对象<br>ALTER:允许用户以各种方式修改现有对象(例如在现有表格中增加一列)<br>RENAME:顾名思义rename<br>TRUNCATE:删除一个表中的所有数据(非标准但常见)<br>DROP:使数据库中的现有对象被删除，通常是无法恢复的   </p>
<h3 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h3><p>常见操作包括：<br>SELECT:查询数据库中的数据<br>INSERT:向表中插入数据<br>UPDATE:更新表中的数据<br>DELETE:从表中删除数据<br>(增删查改)</p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><h3 id="Create-创建表"><a href="#Create-创建表" class="headerlink" title="Create 创建表"></a>Create 创建表</h3><p>我们可以用下面的语句创建表:<br>CREATE TABLE<table name><br>(<column name><data type>[(&lt;size)]&lt;column constraint),<br>…<br>-<keys>);</p>
<table name>:指的是表的名称，它必须是一个字母数字标识符     
<colunmn name> :是属性(列的名字)，也必须是一个字母数字标识符  

<p><date tybe>:代表了表的类型，有以下几种比较常见的类型：<br>INTEGER:整数。可以指定最大位数<br>DECIMAL:还可以都指定最大小数位数，比如DECIMAL(4,3)代表四位整数三位小数<br>REAL:实数<br>BIT：bit 字符串<br>DATE:日期<br>TIME：24小时时间<br>TIMESTAMP：date+time，日期加时间<br>CHAR:固定大小的字符串，必须指定最大大小<br>VARCHAR:可变尺寸的字符串或文本  </p>
<p><column contraint> 用于指定性质的属性(used to specify a property of an attribute)，可能是以下几种之一：<br>UNIQUE:代表column value 必须是唯一的，和该类在的其它值不同，常用于key<br>NOT NULL:不能包含NULL值<br>PRIMARY KEY:代表这个attribute是primary key的一部分<br>REFERENCES <table name>:此属性是外键forign key的一部分，此时必须给出另外一个表的名称 </p>
<blockquote>
<p>外键：代表其它表中的主键、</p>
</blockquote>
<p>DEFAULT<data value>:如果在插入或更新元组期间未指定值，将这个值运用<br>CHECK<dondition>:检查在修改或插入此属性值时是否满足条件，例如，我们希望每个恒星的年龄介于0到200之间     </p>
<p><key>这是一种指定键的替代方法<br>PRIMARY KEY(<list of columns>)<br>FOREIGN KEY (<LIST OF COLUMNS>) REFERENCES<table name>      </p>
<p>比如我们想要创建一个代表<strong>人</strong>的表，包含四列：lastName,FirstNmae,Address,Age<br>对应的类型是，varcher,varcher,varchar,integer   </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Person( LastNamevarchar(30), FirstNamevarchar(10), Address varchar, Age integer)   </span><br><span class="line">CREATE TABLE &lt;表名&gt;(  列名                     列名                 数据类型          数据类型)</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2021/10/16/MNInmuRp72jaPxw.png"></p>
<h3 id="Select-选择"><a href="#Select-选择" class="headerlink" title="Select 选择"></a>Select 选择</h3><p>我们可以利用Select，对数据库进行<strong>关系限制relational restrict</strong>,<strong>项目projrct</strong>,<strong>连接操作join operation</strong>  </p>
<blockquote>
<p>Select语句用于从表中选择数据。表格结果存储在结果表中(称为结果集 result-set)</p>
</blockquote>
<p>比如我们想要从 叫”Persons”的表里面，得到”FirstName”和”Lastname”这样的列的内容，使用下面这条语句：<br><code> SELECT LastName, FirstName FROM Persons;</code>  </p>
<p><img src="https://i.loli.net/2021/10/16/Jn9Hvi4QMyeqZc3.png"></p>
<p>想要选取所有列，我们可以用星号来代替列名，获得所有列，比如：<br><code>SELECT * FROM Persons;</code>  </p>
<p>SQL的查询结果，被存储在一个结果集result-set里面 </p>
<p><strong>有的时候我们想要限制检索的行，就使用WHERE</strong><br>COMPARISON:将一个表达式的值和另外一个表达的值进行比较<br>RANGE:测试表达式的值是否在指定的值范围内<br>SET MEMBERSHIP:测试表达式的值是否等于一组值<br>PATTERN MATCH:测试字符串是否匹配指定的模式<br>NULL:测试列中是否具有NULL值<br>在SQL中，一样可以使用其它语言那些=，&lt;,&gt;!=等比较符号     </p>
<p><code>SELECT Student_No, Student_NameFROM STUDENTWHERE year = 2;</code><br>这样的语句可以为我们从表中检索到 <strong>year = 2</strong>的数据 </p>
<p><code>Select studentname,studentid, studentyobfrom Student where studentyob&lt; 1990 </code><br>选择1990年以前出生的所有学生    </p>
<h1 id="pgSQL-2"><a href="#pgSQL-2" class="headerlink" title="pgSQL 2"></a>pgSQL 2</h1><h3 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h3><p>AVG():返回某列的平均值<br>COUNT():返回某列的行数<br>MAX():返回某列的最大值<br>MIN():返回某列的最小值<br>SUM():返回某列的值之和  </p>
<h4 id="常见字符串函数"><a href="#常见字符串函数" class="headerlink" title="常见字符串函数"></a>常见字符串函数</h4><p>LENGTH(S):计算字符串长度<br>CONCAT(S1,S2,…):字符串合并函数<br>LTRIM(S)/RTRIM(S)/TRIM(S):删除字符串空格函数<br>REPLACE(S,S1,S2):字符串替换<br>SUBSTRING(S,N LEN):获取子串 </p>
<h4 id="常见日期时间函数"><a href="#常见日期时间函数" class="headerlink" title="常见日期时间函数"></a>常见日期时间函数</h4><p>EXTRACT(type FROM d):获取日期指定值函数【详见lecture7-8】<br>CURRENT_DATE:获取当前日期函数<br>CURRENT_TIME:获取当前时间函数<br>NOW():获取当前日期时间函数  </p>
<h3 id="COUNT-："><a href="#COUNT-：" class="headerlink" title="COUNT ："></a>COUNT ：</h3><p>Count:计算结果集中的函数    </p>
<blockquote>
<p>Count(*) 适用于任何表——它用于计算 ResultSet 中的行数<br>比如我们现在想要计算一次比赛中，足球队伍的总数，我们可以写：<br><code>select count(*) from footballteam</code>     </p>
</blockquote>
<h3 id="ORDER-排序"><a href="#ORDER-排序" class="headerlink" title="ORDER 排序"></a>ORDER 排序</h3><p>ORDER BY:排序方式<br>ORDER BY位于SQL语句的末尾，当我们使用它的时候，会尝试对结果进行一次排序 </p>
<p>比如我们现在想要按照团队名称的升序进行排序<br>```select teamname,stadiumcap from footballteam where (stadiumcap &gt; 40000) ORDER BY teamname asc``</p>
<p><strong>asc</strong>表示我们期望的排序是升序<br><strong>desc</strong>表示我们期望的排序是降序    </p>
<h3 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h3><p>于ORDER BY类似，它的作用在于进行数据的分组<br>“Group By”从字面意义上理解就是根据“By”指定的规则对数据进行分组，所谓的分组就是将一个“数据集”划分成若干个“小区域”，然后针对若干个“小区域”进行数据处理    </p>
<h3 id="字符串搜索-区分大小写的"><a href="#字符串搜索-区分大小写的" class="headerlink" title="字符串搜索(区分大小写的)"></a>字符串搜索(区分大小写的)</h3><p>比如，我们想知道哪些球队使用Adidas作为球衣<br><code>select teamname,shirtmaker from footballteam where (shirtmaker = &#39;Addiddas&#39;) order by teamname desc </code>   </p>
<h3 id="模式匹配-PATTERN-MATCHING"><a href="#模式匹配-PATTERN-MATCHING" class="headerlink" title="模式匹配 PATTERN MATCHING"></a>模式匹配 PATTERN MATCHING</h3><h4 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a>LIKE</h4><p>SQL 中的 LIKE 操作符（更具体地说是在 PostgreSQL 中）允许我们进行模式匹配<br>这就是SQL可以开始执行分析或查询的地方，而我们人类无法很快完成这些分析或查询     </p>
<p>比如，我们现在想知道“哪些球队的经理的名字以字母 A 开头”，我们可以写下：<br><code>select teamname,managerfrom footballteam where (manager LIKE &#39;A%&#39;)</code>     </p>
<blockquote>
<p>‘A%’是什么？意思是——返回所有第一个字符为大写字母A的字符串  </p>
</blockquote>
<p>这里的百分号%表示，字符串剩下的内容(AXXXXX中的XXXXX)    </p>
<p>同理，如果我们想知道“哪支球队有以“体育场”结尾的正式体育场名称”  </p>
<p><code>select teamname,stadiumname from footballtea mwhere (stadiumname LIKE &#39;%Stadium&#39;)</code>     </p>
<p>“哪些球队的名字中出现了”sea”的地方？”<br><code>select teamname,stadiumname from footballteam where (teamname LIKE &#39;%sea%&#39;)</code>    </p>
<p>另外，% 运算符也匹配空格和标点符号  </p>
<p>or运算也同样可以被用于这种情况：<br><code>select teamname,stadiumname,manager from footballteam where (teamnameLIKE &#39;%sea%&#39;) or (manager LIKE &#39;%es&#39;)</code>    </p>
<h3 id="VARCHAR-N"><a href="#VARCHAR-N" class="headerlink" title="VARCHAR(N)"></a>VARCHAR(N)</h3><p>通常，当我们设计表时，我们需要考虑我们使用的数据类型的限制和规格<br>VARCHAR(N)意味着我们可以存储任意字符串，最大长度为N个字符<br>正如我们所看到的，VARCHAR是一个<strong>可变长度的字符串</strong><br>所以任何可打印的字符都可以存储在这里        </p>
<blockquote>
<p>这是一种非常灵活的数据类型，并且足以用于我们需要的基于文本的基于文本的数据类型  </p>
</blockquote>
<p>使用例子:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE ComplaintsDatabase2</span><br><span class="line">(</span><br><span class="line">    complaintnumber SERIAL NOT NULL,</span><br><span class="line">    complaintdate DATE NOT NULL,</span><br><span class="line">    complainttime TIME NOT NULL,</span><br><span class="line">    complaint VARCHAR(400) NOT NULL,</span><br><span class="line">    CONSTRAINT ComplaintsDatabase2_pkey </span><br><span class="line">    PRIMARY KEY (complaintnumber)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>在这里，我们限制了<code>complaint</code>的最多字符数是400  </p>
<h4 id="TEXT"><a href="#TEXT" class="headerlink" title="TEXT"></a>TEXT</h4><p>PostgreSql提供了一种称为TEXT的替代数据类型<br>TEXT允许无限长的字符串<br>TEXT在表上的声明与任何其他数据类型相同  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TextExampleData</span><br><span class="line">(</span><br><span class="line">    pknumber SERIAL NOT NULL,</span><br><span class="line">    sampletext TEXT NOT NULL,</span><br><span class="line">    CONSTRAINT TextExampleData_pkeyPRIMARY KEY (pknumber)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>虽然TEXT如此强大，但是————对varchar中的字符数量的限制通常非常有用(毕竟我们总是想要限制插入的字数，比如用户名长度、密码长度) </p>
</blockquote>
<h1 id="pgSQL-3"><a href="#pgSQL-3" class="headerlink" title="pgSQL 3"></a>pgSQL 3</h1><h2 id="数据创建与插入操作"><a href="#数据创建与插入操作" class="headerlink" title="数据创建与插入操作"></a>数据创建与插入操作</h2><h3 id="表创建"><a href="#表创建" class="headerlink" title="表创建"></a>表创建</h3><p>CREATE TABLE 语法格式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE table_name(</span><br><span class="line">   column1 datatype,</span><br><span class="line">   column2 datatype,</span><br><span class="line">   column3 datatype,</span><br><span class="line">   .....</span><br><span class="line">   columnN datatype,</span><br><span class="line">    ...</span><br><span class="line">);  </span><br></pre></td></tr></table></figure>
<p>另外，在指定了数据类型之后，还可以指定限制  </p>
<p>例子：以下创建了一个表，表名为 COMPANY 表格，主键为 ID，NOT NULL 表示字段不允许包含 NULL 值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE COMPANY(</span><br><span class="line">   ID INT PRIMARY KEY     NOT NULL,</span><br><span class="line">   NAME           TEXT    NOT NULL,</span><br><span class="line">   AGE            INT     NOT NULL,</span><br><span class="line">   ADDRESS        CHAR(50),</span><br><span class="line">   SALARY         REAL</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h3><p>使用<code>INSERT INTO</code>语句来插入数据  </p>
<p><strong>正常插入</strong><br>INSERT INTO &lt;表名&gt; values(对应数据，逗号隔开)   </p>
<p><strong>向指定字段插入</strong><br>INSERT INTO &lt;表名&gt; (字段名，逗号隔开) values(对应数据，逗号隔开)    </p>
<p><strong>批量插入数据</strong><br>当然，我们可以善用ctrl+cv来进行 </p>
<p>或者我们利用逗号隔开每一次插入，达到批量的目的  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO &lt;表名&gt;  values</span><br><span class="line">(a1,b1,c1),</span><br><span class="line">(a2,b2,c2),</span><br><span class="line">(a3,b3,c3),</span><br><span class="line">...</span><br><span class="line">(an,bn,cn);</span><br></pre></td></tr></table></figure>

<p>利用表内数据来进行批量增加<br>比如我们有一模一样的数据格式的s1和s2，那么<br><code>INSERT INTO s2 SELECT FROM s1 ; </code><br>同理，用向指定字段插入数据的方法来进行<strong>指定地从s1插入至s2</strong>也是可行的<br><img src="https://s2.loli.net/2021/12/29/ElHewzUsVKI5iJF.png"> </p>
<h2 id="表别名操作和删除更新操作"><a href="#表别名操作和删除更新操作" class="headerlink" title="表别名操作和删除更新操作"></a>表别名操作和删除更新操作</h2><h3 id="Table-Aliases-表别名"><a href="#Table-Aliases-表别名" class="headerlink" title="Table Aliases 表别名"></a>Table Aliases 表别名</h3><p>在SQL中，我们可以更改SQL语句中的表名或列名<br>此更改只是SQL语句的<strong>临时更改</strong>，但对于我们处理SQL查询非常有用  </p>
<blockquote>
<p>临时处理以方便后续操作    </p>
</blockquote>
<blockquote>
<p>别名使数据库管理员以及其他数据库用户能够减少查询所需的代码量，并使查询更易于理解  </p>
</blockquote>
<p>比如我们现在有表：  </p>
<p><img src="https://i.loli.net/2021/11/13/lBRgmDEHYaVGeAh.png">  </p>
<p>显然它的可读性并不强，于是我们可以利用别名来得到：  </p>
<p><img src="https://i.loli.net/2021/11/13/pNL87iEgAcz9QbT.png">  </p>
<p>这就是<strong>别名</strong>的应用，我们想要实现上述转换，可以用下面的代码:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT AppNameas &quot;Application Name&quot;,</span><br><span class="line">RRP as &quot;Recommended Price&quot;,</span><br><span class="line">Usability as &quot;Ease of Use Index&quot;</span><br><span class="line">from AliasExample</span><br><span class="line">Order by &quot;Ease of Use Index&quot; asc</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意这里使用的是双引号    </p>
</blockquote>
<p>同理，除了列名，事实上我们对表名也可以进行别名的操作。这个在之后数据库和数据操作的内容中有很大帮助  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">T1.AppName,</span><br><span class="line">T1.RRP,</span><br><span class="line">T1.Usability</span><br><span class="line">from AliasExample as T1</span><br><span class="line">Order by T1.AppName</span><br></pre></td></tr></table></figure>
<p>此时<strong>T1</strong>就变成了表的别名<br>而我们利用了别名T1和列的关系，SELECT到了它们    </p>
<h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><p>pgSQL提供了不少函数，主要可以分为两类   </p>
<p>以Sum()为例子<br><img src="https://i.loli.net/2021/11/13/KfompsHelYyvc1Z.png">  </p>
<h3 id="删除-DELETE"><a href="#删除-DELETE" class="headerlink" title="删除 DELETE"></a>删除 DELETE</h3><p>利用<code>DELETE</code>命令来删除数据，如果不加<code>WHERE</code>进行限制，则删除该表所有数据 </p>
<p><code>DELETE FROM &lt;tableName&gt; </code><br><code>DELETE FROM &lt;tableName&gt; WHERE &lt;condition...&gt;</code>  </p>
<blockquote>
<p>在pgSQL中，你在一次命令中只可以删除一张表中的数据 </p>
</blockquote>
<blockquote>
<p>在有JOINED表的情况下，DELETE确实从多个表中删除…..但它仍然一次执行一张表 </p>
</blockquote>
<p>Never use DELETE without a WHERE statement…除非你想删库跑路   </p>
<blockquote>
<p>仅当您打算清除或删除表中的所有行时，才使用不带WHERE语句的DELETE   </p>
</blockquote>
<p>另外，如果怕<code>DELETE</code>出错的话，我们可以先用<code>SELECT</code>来进行测试<br>我们可以将 DELETE 语句视为一种非常特殊的 SELECT 语句</p>
<h3 id="删除-TRUNCATE"><a href="#删除-TRUNCATE" class="headerlink" title="删除 TRUNCATE"></a>删除 TRUNCATE</h3><p><code>truncate table &lt;表名&gt;</code><br>直接清空这张表  </p>
<h4 id="DELETE-和-TRUNCATE的区别"><a href="#DELETE-和-TRUNCATE的区别" class="headerlink" title="DELETE 和 TRUNCATE的区别"></a>DELETE 和 TRUNCATE的区别</h4><p><img src="https://s2.loli.net/2021/12/29/Pav39Q8rBiJpCj5.png"> </p>
<p>可以简单认为，TRUNCATE是最直接的删除清空所有表，然后给你一张新表。这个删除是不可以恢复的(delete还有希望)<br>另外，<code>DELETE</code>属于DML语言，而<code>TRUNCATE</code>就是DDL语言了    </p>
<h3 id="更新-Update"><a href="#更新-Update" class="headerlink" title="更新 Update"></a>更新 Update</h3><p>语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">UPDATE &lt;表名&gt;   </span><br><span class="line">SET</span><br><span class="line">    ...</span><br><span class="line">    更改的数据</span><br><span class="line">    格式是 xxxx = xxx</span><br><span class="line">    不同数据用，分割</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">WHERE &lt;条件&gt;</span><br></pre></td></tr></table></figure>

<p><strong>单条修改</strong><br>UPDATE &lt;表名&gt; set &lt;修改内容，比如name = ‘Anna’&gt; WHERE &lt;搜索条件&gt;    </p>
<p><strong>批量修改</strong><br>不加where就是对所有数据更新 </p>
<p>比如我们想更改下图箭头指向的数据<br><img src="https://i.loli.net/2021/11/13/gBbYc1URaJzr5Sw.png"></p>
<p>我们写下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UPDATE GoogleSharesOctober2015</span><br><span class="line">SET </span><br><span class="line">openvalue = 700</span><br><span class="line">WHERE sharedate = &#x27;2015-10-10&#x27;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使得 sharedare = ‘2015-10-10’的那行中的，’openvalue’数据变为700</p>
</blockquote>
<p>同理也可以同时执行多项更改：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">UPDATE GoogleSharesOctober2015</span><br><span class="line">SET</span><br><span class="line">openvalue = openvalue + 20,</span><br><span class="line">highvalue = highvalue + 20,</span><br><span class="line">lowvalue = lowvalue + 20,</span><br><span class="line">closevalue = closevalue + 20</span><br><span class="line">WHERE sharedate = &#x27;2015-10-20&#x27;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在UPDATE命令中，WHERE是十分重要的————它控制着更新的地方。如果没有 WHERE 子句，则表中的每一行都会更新。这通常不是必需的，甚至可能会导致数据损坏。  </p>
</blockquote>
<h3 id="NULL数据"><a href="#NULL数据" class="headerlink" title="NULL数据"></a>NULL数据</h3><p>对于NULL数据，我们使用<code>IS NULL</code>命令，因为NULL不能“被比较”，因此<code>EQUALS</code>命令无效    </p>
<h3 id="DROP-TABLE"><a href="#DROP-TABLE" class="headerlink" title="DROP TABLE"></a>DROP TABLE</h3><p><code>DROP TABLE</code>命令会<strong>直接删除一张表</strong><br>如下：<br><code>DROP TABLE IF EXISTS &lt;表名&gt;</code>代表我们直接删除这张表 </p>
<blockquote>
<p>‘IF EXISTS’ 表示如果表不存在，PostgreSQL 不会报错 </p>
</blockquote>
<h3 id="ALTER-TABLE"><a href="#ALTER-TABLE" class="headerlink" title="ALTER TABLE"></a>ALTER TABLE</h3><p>ALTER TABLE 命令可以<strong>更改表的定义</strong><br>1.改表名<br><code>ALTER TABLE &lt;TABLENAME&gt; RENAME TO &lt;NEW TABLENAME&gt;</code><br>这样就可以把表名<code>&lt;TABLENAME&gt;</code>改为我们所需要的新表名<code>&lt;NEW TABLENAME&gt;</code>    </p>
<p>关键字：<code>RENAME TO </code></p>
<p>2.改列名<br>与修改表明类似<br><code>ALTER TABLE &lt;TABLENAME&gt; RENAME COLUMN &lt;old_column&gt;TO &lt;new_column&gt;</code>   </p>
<p>关键字：<code>RENAME A TO B </code></p>
<p>3.删除一列<br><code>ALTER TABLE &lt;TABLENAME&gt; DROP COLUMN &lt;column_name&gt;</code> </p>
<p>关键字: <code>DROP</code></p>
<p>4.加一列<br><code>ALTER TABLE TollPlazaData ADD COLUMN Direction TEXT;</code>  </p>
<p>关键字：<code>ADD</code>   </p>
<p>5.改变列的类型<br><code>ALTER TABLE &lt;TABLENAME&gt; ALTER COLUMN &lt;column_name&gt;  TYPE&lt;New Column Type&gt;</code>   </p>
<p>另外，也可以把表的VARCHAR修改，比如VARCHAR(N)改为VARCHAR(M)<br>也可以将VARCHAR修改为TEXT   </p>
<blockquote>
<p>当更改已经joined的表时，要注意这会破坏数据库的完整性——<strong>您的连接jonis和引用references将不起作用</strong> </p>
</blockquote>
<p>6.分配主键<br><code>ALTER TABLE &lt;tableName&gt; PRIMARY KEY &lt;key&gt;;</code>    </p>
<p>关键字：<code>PRIMARY KEY xxx</code>   </p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">RetenQ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_PgSQL%E9%83%A8%E5%88%86_%E4%B8%8A/">http://example.com/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_PgSQL%E9%83%A8%E5%88%86_%E4%B8%8A/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">RetenQ的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MIEC%E7%94%9F%E5%AD%98%E6%89%8B%E5%86%8C/">MIEC生存手册</a><a class="post-meta__tags" href="/tags/cs130%E6%95%B0%E6%8D%AE%E5%BA%93/">cs130数据库</a><a class="post-meta__tags" href="/tags/PgSql/">PgSql</a></div><div class="post_share"><div class="social-share" data-image="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/23/%E5%95%8A%E5%93%88%E7%AE%97%E6%B3%95_%E5%85%AD/"><img class="prev-cover" src="https://s3.bmp.ovh/imgs/2022/01/511b80189599fc6f.jpg" onerror="onerror=null;src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">《啊哈!算法》总结与概况(六)</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_PgSQL%E9%83%A8%E5%88%86_%E4%B8%8B/"><img class="next-cover" src="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" onerror="onerror=null;src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">cs130数据库:PgSql模块(下)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_PgSQL%E9%83%A8%E5%88%86_%E4%B8%8B/" title="cs130数据库:PgSql模块(下)"><img class="cover" src="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-20</div><div class="title">cs130数据库:PgSql模块(下)</div></div></a></div><div><a href="/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_%E7%90%86%E8%AE%BA%E6%A8%A1%E5%9D%97_%E4%B8%8B/" title="cs130数据库:理论知识模块(下)"><img class="cover" src="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-20</div><div class="title">cs130数据库:理论知识模块(下)</div></div></a></div><div><a href="/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_%E7%90%86%E8%AE%BA%E6%A8%A1%E5%9D%97_%E4%B8%8A/" title="cs130数据库:理论知识模块(上)"><img class="cover" src="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-20</div><div class="title">cs130数据库:理论知识模块(上)</div></div></a></div><div><a href="/2022/01/20/cs210%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E4%B8%89/" title="cs210算法与数据结构(三)"><img class="cover" src="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-20</div><div class="title">cs210算法与数据结构(三)</div></div></a></div><div><a href="/2022/01/20/cs210%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E4%B8%80/" title="cs210算法与数据结构(一)"><img class="cover" src="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-20</div><div class="title">cs210算法与数据结构(一)</div></div></a></div><div><a href="/2022/01/20/cs210%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E4%BA%8C/" title="cs210算法与数据结构(二)"><img class="cover" src="https://s3.bmp.ovh/imgs/2022/01/18b99187f35c6af0.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-20</div><div class="title">cs210算法与数据结构(二)</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s3.bmp.ovh/imgs/2022/01/8810259d94a68ce8.jpg" onerror="this.onerror=null;this.src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="avatar"/></div><div class="author-info__name">RetenQ</div><div class="author-info__description">于是百无聊赖中写下了答案的最后一笔</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/RetenQ"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com//RetenQ" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://twitter.com/RetenQ" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a><a class="social-icon" href="mailto:RetenQ@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">你好！这里是某csse菜鸡的博客，有需要的话欢迎通过QQ或者Email联系我！ 3452567280 RetenQ@outlook.com</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#pgSQL-1"><span class="toc-number">1.</span> <span class="toc-text">pgSQL 1</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E7%BA%A7"><span class="toc-number">1.1.</span> <span class="toc-text">概念级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">数据库基础概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">数值类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL"><span class="toc-number">1.1.3.</span> <span class="toc-text">SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DDL"><span class="toc-number">1.1.4.</span> <span class="toc-text">DDL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DML"><span class="toc-number">1.1.5.</span> <span class="toc-text">DML</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.</span> <span class="toc-text">操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">1.2.1.</span> <span class="toc-text">Create 创建表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Select-%E9%80%89%E6%8B%A9"><span class="toc-number">1.2.2.</span> <span class="toc-text">Select 选择</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pgSQL-2"><span class="toc-number">2.</span> <span class="toc-text">pgSQL 2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">2.0.1.</span> <span class="toc-text">常用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">2.0.1.1.</span> <span class="toc-text">常见字符串函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="toc-number">2.0.1.2.</span> <span class="toc-text">常见日期时间函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#COUNT-%EF%BC%9A"><span class="toc-number">2.0.2.</span> <span class="toc-text">COUNT ：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ORDER-%E6%8E%92%E5%BA%8F"><span class="toc-number">2.0.3.</span> <span class="toc-text">ORDER 排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GROUP-BY"><span class="toc-number">2.0.4.</span> <span class="toc-text">GROUP BY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%90%9C%E7%B4%A2-%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99%E7%9A%84"><span class="toc-number">2.0.5.</span> <span class="toc-text">字符串搜索(区分大小写的)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D-PATTERN-MATCHING"><span class="toc-number">2.0.6.</span> <span class="toc-text">模式匹配 PATTERN MATCHING</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LIKE"><span class="toc-number">2.0.6.1.</span> <span class="toc-text">LIKE</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VARCHAR-N"><span class="toc-number">2.0.7.</span> <span class="toc-text">VARCHAR(N)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TEXT"><span class="toc-number">2.0.7.1.</span> <span class="toc-text">TEXT</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pgSQL-3"><span class="toc-number">3.</span> <span class="toc-text">pgSQL 3</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%9B%E5%BB%BA%E4%B8%8E%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">3.1.</span> <span class="toc-text">数据创建与插入操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="toc-number">3.1.1.</span> <span class="toc-text">表创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">3.1.2.</span> <span class="toc-text">插入数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E5%88%AB%E5%90%8D%E6%93%8D%E4%BD%9C%E5%92%8C%E5%88%A0%E9%99%A4%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C"><span class="toc-number">3.2.</span> <span class="toc-text">表别名操作和删除更新操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Table-Aliases-%E8%A1%A8%E5%88%AB%E5%90%8D"><span class="toc-number">3.2.1.</span> <span class="toc-text">Table Aliases 表别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Function"><span class="toc-number">3.2.2.</span> <span class="toc-text">Function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4-DELETE"><span class="toc-number">3.2.3.</span> <span class="toc-text">删除 DELETE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4-TRUNCATE"><span class="toc-number">3.2.4.</span> <span class="toc-text">删除 TRUNCATE</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DELETE-%E5%92%8C-TRUNCATE%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.2.4.1.</span> <span class="toc-text">DELETE 和 TRUNCATE的区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0-Update"><span class="toc-number">3.2.5.</span> <span class="toc-text">更新 Update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NULL%E6%95%B0%E6%8D%AE"><span class="toc-number">3.2.6.</span> <span class="toc-text">NULL数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DROP-TABLE"><span class="toc-number">3.2.7.</span> <span class="toc-text">DROP TABLE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ALTER-TABLE"><span class="toc-number">3.2.8.</span> <span class="toc-text">ALTER TABLE</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/02/07/C#%E5%AD%A6%E4%B9%A0_%E4%BA%8C/" title="C#基础学习(二)"><img src="https://s2.loli.net/2022/01/12/iuhM7UpVqBzPT3t.jpg" onerror="this.onerror=null;this.src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="C#基础学习(二)"/></a><div class="content"><a class="title" href="/2022/02/07/C#%E5%AD%A6%E4%B9%A0_%E4%BA%8C/" title="C#基础学习(二)">C#基础学习(二)</a><time datetime="2022-02-06T16:00:00.000Z" title="发表于 2022-02-07 00:00:00">2022-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/07/C#%E5%AD%A6%E4%B9%A0_%E4%B8%89%20/" title="C#基础学习(三)"><img src="https://s2.loli.net/2022/01/12/iuhM7UpVqBzPT3t.jpg" onerror="this.onerror=null;this.src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="C#基础学习(三)"/></a><div class="content"><a class="title" href="/2022/02/07/C#%E5%AD%A6%E4%B9%A0_%E4%B8%89%20/" title="C#基础学习(三)">C#基础学习(三)</a><time datetime="2022-02-06T16:00:00.000Z" title="发表于 2022-02-07 00:00:00">2022-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/07/C#%E5%AD%A6%E4%B9%A0_%E5%9B%9B/" title="C#基础学习(四)"><img src="https://s2.loli.net/2022/01/12/iuhM7UpVqBzPT3t.jpg" onerror="this.onerror=null;this.src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="C#基础学习(四)"/></a><div class="content"><a class="title" href="/2022/02/07/C#%E5%AD%A6%E4%B9%A0_%E5%9B%9B/" title="C#基础学习(四)">C#基础学习(四)</a><time datetime="2022-02-06T16:00:00.000Z" title="发表于 2022-02-07 00:00:00">2022-02-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/06/C#%E5%AD%A6%E4%B9%A0_%E4%B8%80/" title="C#基础学习(一)"><img src="https://s2.loli.net/2022/01/12/iuhM7UpVqBzPT3t.jpg" onerror="this.onerror=null;this.src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="C#基础学习(一)"/></a><div class="content"><a class="title" href="/2022/02/06/C#%E5%AD%A6%E4%B9%A0_%E4%B8%80/" title="C#基础学习(一)">C#基础学习(一)</a><time datetime="2022-02-05T16:00:00.000Z" title="发表于 2022-02-06 00:00:00">2022-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/30/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" title="单例模式"><img src="https://s3.bmp.ovh/imgs/2022/01/caac6ab1d22d69e3.jpg" onerror="this.onerror=null;this.src='https://s2.loli.net/2022/01/13/lsqSbINmozkPFpM.png'" alt="单例模式"/></a><div class="content"><a class="title" href="/2022/01/30/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" title="单例模式">单例模式</a><time datetime="2022-01-29T16:00:00.000Z" title="发表于 2022-01-30 00:00:00">2022-01-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By RetenQ</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '',
      appKey: '',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'http://example.com/2022/01/20/cs130%E6%95%B0%E6%8D%AE%E5%BA%93_PgSQL%E9%83%A8%E5%88%86_%E4%B8%8A/'
    this.page.identifier = '2022/01/20/cs130数据库_PgSQL部分_上/'
    this.page.title = 'cs130数据库:PgSql模块(上)'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Valine' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>